const e=Symbol("mount"),t=Symbol("mounted"),n=Symbol("update"),l=Symbol("updated"),o=Symbol("unmount"),r={};function i(e,t){e[0]&&(e[1]=e[0](e[1],t))}function u(e,t){for(let n in e)i(e[n],t)}function s(e,t){if(r.ref.hook)return r.ref.hook.use(e,t)[1]}const c=[],a=Symbol("limitNode"),f={innerHTML:1,textContent:1,contenteditable:1},d={style:1},h={id:1,className:1,checked:1,value:1,selected:1};const p=e=>"function"==typeof e,m=e=>new Promise(e);function y(e,t,n,l,o,r){if(n=null==n?null:n,l=null==l?null:l,(t="class"!=t||o?t:"className")in e&&h[t]&&(n=e[t]),l!==n)if("o"!=t[0]||"n"!=t[1]||!p(l)&&!p(n))switch(t){case"key":e.dataset.key=l;break;case"ref":l&&(l.current=e);break;case"style":!function(e,t,n){let l,o=e.style;if("object"==typeof t){l=!0;for(let e in t)e in n||b(o,e,null)}if("object"==typeof n)for(let e in n){let r=n[e];l&&t[e]===r||b(o,e,r)}else o.cssText=n}(e,n||"",l||"");break;default:!o&&"list"!=t&&t in e?e[t]=null==l?"":l:null==l?e.removeAttribute(t):e.setAttribute(t,"object"==typeof l?JSON.stringify(l):l)}else!function(e,t,n,l){t=t.slice("-"==t[2]?3:2),l.handleEvent||(l.handleEvent=t=>l[t.type].call(e,t));n?(l[t]||e.addEventListener(t,l),l[t]=n):l[t]&&(e.removeEventListener(t,l),delete l[t])}(e,t,l,r)}function b(e,t,n){let l="setProperty";null==n&&(l="removeProperty",n=null),~t.indexOf("-")?e[l](t,n):e[t]=n}let v=N(null,{children:""}),g=N(null,{children:c});const k=Symbol("mapChildren"),w=Symbol("keyes");function N(e,t,...n){return{children:n,...t,nodeType:e||null}}function C(e){if(S(e))return e;if(!e[k]){let{children:t,keyes:n}=function e(t,n={children:[]},l=0){if((e=>Array.isArray(e))(t)){let o=t.length;for(let r=0;r<o;r++)e(t[r],n,l+1)}else{if(null==t&&!l)return n;let o=C(t);if(null!=o&&"object"==typeof o){if(p(o.nodeType)){let{nodeType:t,...r}=o;return e(t(r),n,l+1)}let{key:t}=o;null!=t&&(t+="",n.keyes=n.keyes||[],n.keyes.includes(t)||n.keyes.push(t))}n.children.push(o)}return n}(e.children);e.children=t.length?t:c,n&&n.length==t.length&&(e[w]=n),e[k]=!0}return e}function S(e){let t=typeof e;return null==e||"string"==t||"number"==t||"function"==t||"boolean"==t}const x=e=>e instanceof Node,j=e=>e[a]=e.appendChild(new Comment);function E(e,t,n,l){let o=e[a];if(!o){let{childNodes:t}=e,n=t.length;for(let e=0;e<n;e++){let e=t[n];if(e instanceof Comment){o=e;break}}}o||(o=j(e)),e[l?"appendChild":"insertBefore"](t,n||o)}function T(e,t,n,l){let{vnode:o,handlers:r={}}=t&&t[e]||{};if(o==n&&null!=o)return t;var i;n=S(n)?function(e){let t=typeof e;return null==e||"boolean"==t||"function"==t}(i=n)?v:N(null,{children:""+i}):n;let{nodeType:u,shadowDom:s,children:c,is:h,...p}=o||g,{nodeType:m,shadowDom:b,children:k,is:C,...A}=n;if(l=l||"svg"==m,"host"!=m&&(!function(e,t){let n=e&&x(e),l=t&&x(t);if(l&&n)return l==l;if(e){e.localName||(e.localName=e.nodeName.toLowerCase());let n=e.localName;return("#text"==n?null:n)==t}}(t,m)||h!=C)){let e=function(e,t,n){let l,o=document;if(null!=e){if(x(e))return e;l=t?o.createElementNS("http://www.w3.org/2000/svg",e):o.createElement(e,n?{is:n}:null)}else l=o.createTextNode("");return l}(m,l,C),n=t&&t.parentNode;n&&n.replaceChild(e,t),t=e,r={}}if(d[m]&&(m=null,k=k.join("")),null==m)t.textContent!=k&&(t.textContent=k);else{if(s!=b){let{shadowRoot:e}=t,n=b&&!e?"open":!b&&e?"closed":0;n&&t.attachShadow({mode:n})}(function(e,t,n,l,o){t=t||{};for(let r in t)r in n||y(e,r,t[r],null,l,o);let r;for(let i in n)y(e,i,t[i],n[i],l,o),r=r||f[i];return r})(t,p,A,l,r)||c==k||function(e,t,n,l,o){let r=n.length,{childNodes:i}=t,u={},s=i.length,c=0,f=t[a];for(;c<s;c++){let e=i[c];if(e==f||e instanceof Comment){f=e;break}if(l){let t=e.dataset.key;if(l.includes(t)){u[t]=e;continue}}(l||c>=r)&&(c--,s--,e.remove())}f||(f=j(t));for(let s=0;s<r;s++){let r=n[s],a=s==c?null:i[s],d=l?r.key:s,h=l?u[d]:a;l&&h&&h!=a&&t.insertBefore(h,a);let p=T(e,h,r,o);h||(E(t,p,s==c?f:i[s]),c++)}}(e,b?t.shadowRoot:t,k,A[w],l)}return t[e]={vnode:n,handlers:r},t}function A(e,t,n="vnode"){return null!=e&&"object"==typeof e&&"host"!=e.nodeType&&(e=N("host",{children:e})),T(n,t,e=C(e)),t}const O=[!0,1,"","1","true"],L=null;const P=(e,t,n)=>e.dispatchEvent(new CustomEvent(t,"object"==typeof n?n:null)),F=(e,t)=>Object.assign(new Error("Failed prop\n"+t),e);let $,B=[];const D=Symbol("important");function J(){let e=performance.now(),t=B.length,n=B;for(B=[];t--;){let l=n[t];if(!(l[D]||performance.now()-e<1e3/60)){B=B.concat(n.slice(0,t+1));break}l()}B.length?requestAnimationFrame(J):$=!1}function z(e){$||($=!0,(e=>{Promise.resolve().then(e)})(J)),B.includes(e)||B[e[D]?"unshift":"push"](e)}const H=Symbol("props"),M=Symbol("ignore");function R(s,c,a){if(s.mount)return;let f,d,h,p,y=Symbol("vnode");s[H]={};let b=()=>{f=!1,b[D]&&(b[D]=!1);try{A(v.load(c,{...s[H]}),s,y),p()}catch(e){(a||console.error)(e)}};b[D]=!0,s.update=()=>{if(d)return;let e=s.rendered;return f||(f=!0,e=m(e=>p=e).then(v.updated),h?z(b):s.mounted.then(()=>{h=!0,z(b)})),s.rendered=e};let v=function(s,c){let a,f={},d={use:function(t,l){let o,u=r.index++;f[u]||(f[u]=[null,l],o=1);return f[u][0]=t,i(f[u],o?e:n),f[u]},load:function(e,t){r.index=0,r.ref=h;let n=e(t);return r.ref=0,n},updated:function(){let e=a?l:t;a=1,u(f,e)},unmount:function(){u(f,o)}},h={hook:d,host:c,render:s};return d}(()=>z(s.update),s);s.mounted=m(e=>s.mount=()=>{h=!1,1==d&&(d=!1,s.mounted=s.update()),e()}),s.unmounted=m(e=>s.unmount=()=>{d=!0,v.unmount(),e()}),s.initialize(),s.update()}function q(e,t,n){if(p(e)){let n=t||HTMLElement;t=e;let{props:l,error:o}=t,r=[],i=[],u=class extends n{constructor(){super(),R(this,t,o)}connectedCallback(){R(this,t,o),this.mount()}disconnectedCallback(){this.unmount()}attributeChangedCallback(e,t,n){e!==this[M]&&t!==n&&(this[(e=>e.replace(/-(\w)/g,(e,t)=>t.toUpperCase()))(e)]=n)}initialize(){let e=r.length;for(;e--;)r[e](this)}},s=u.prototype;for(let e in l)I(s,r,i,e,l[e]);return u.observedAttributes=i,u.props=l,u}{let{base:l,...o}=n||{},r=()=>customElements.define(e,q(t,l),o);return o.waitFor?Promise.all([].concat(o.waitFor).map(e=>customElements.whenDefined(e))).then(r):r(),t=>o.extends?N(o.extends,{...t,is:e}):N(e,t)}}function I(e,t,n,l,o){if(l in e)return;let r=(e=>e.replace(/([A-Z])/g,"-$1").toLowerCase())(l),i=(o=null==o||o.name?{type:o}:o).type==Function||null==o.type;Object.defineProperty(e,l,{set:function(e){let t=this[H][l];!i&&p(e)&&(e=e(t));let{value:n,error:u}=function(e,t){if(null==t)return{value:e};try{if(t==Boolean?e=O.includes(e):"string"==typeof e&&(e=t==Number?Number(e):t==Object||t==Array?JSON.parse(e):e),{}.toString.call(e)==`[object ${t.name}]`)return{value:e,error:t==Number&&Number.isNaN(e)}}catch(e){}return{value:e,error:!0}}(e,o.type);if(u&&null!=n)throw F({target:this,schema:o,value:n},`The value defined for prop '${l}' must be of type '${o.type.name}'`);if(o.options&&!o.options.includes(n))throw F({target:this,schema:o,value:n},`The value defined for prop '${l}' It is not a valid option`);if(t==n)return;this[H][l]=n;let s=this.update();o.event&&s.then(()=>P(this,o.event.type||l,o.event)),o.reflect&&this.mounted.then(()=>{this[M]=r,((e,t,n)=>{null==n?e.removeAttribute(t):e.setAttribute(t,"object"==typeof n?JSON.stringify(n):n)})(this,r,o.type!=Boolean||n?n:null),this[M]=!1})},get:function(){return this[H][l]}}),"value"in o&&t.push(e=>{let{value:t}=o;e[H][l]=p(t)?t():t}),n.push(r)}function U(){return s(0,{current:r.ref.host})}function Z(t){let n=r.ref.render;return s((l,o)=>(e==o&&(l[0]=p(t)?t():t,l[1]=e=>{(e=p(e)?e(l[0]):e)!=l[0]&&(l[0]=e,n())}),l),[])}function G(e,r){let i;s((u,s)=>{switch(null==i&&(i=!r||!u[0]||!function(e,t){let n=e.length;if(n!==t.length)return!1;for(let l=0;l<n;l++)if(e[l]!==t[l])return!1;return!0}(r,u[0]),u[0]=r),s){case n:case o:(i||s==o)&&u[1]&&(u[1](),u[1]=0),s==o&&(u[0]=null);break;case t:case l:(i||s==t)&&(u[1]=e())}return u},[])}function K(e){return s(0,{current:e})}function Q(e,t){let n=U();return n[e]||(n[e]=l=>P(n.current,e,l?{...t,detail:l}:t)),n[e]}export{L as A,q as a,K as b,N as c,U as d,G as e,Q as f,A as r,Z as u};
//# sourceMappingURL=1d8d81c9.js.map
