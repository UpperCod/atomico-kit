import{u as e,a as t,c as a,b as n,d as o,e as s,f as l,A as u}from"./chunks/eaceffd6.js";export{r as render}from"./chunks/eaceffd6.js";import{u as p}from"./chunks/0e63c91b.js";function c(){return location.pathname}function i(e){e!=c()&&(history.pushState({},"history",e),window.dispatchEvent(new PopStateEvent("popstate")))}const h=/([^\/]+)/g,f=/^(:)(\w+)(\?|(\.){3}){0,1}/,m={},d={};function g(e){return e.replace(/(\/){2,}/g,"/").replace(/([^\/]+)\/$/,"$1")}function w(e,t){e=g(e),t=g(t),d[e]||(d[e]=function(e){let t=e.match(h)||[""],r=[];return{regexp:new RegExp("^"+t.map(e=>{let[t,a,n,o]=e.match(f)||[];return a?(r.push(n),"..."===o?"(.*)":"?"===o?"(?:\\/){0,1}([^\\/]*)":"\\/([^\\/]+)"):`\\/(?:${e.replace(/(\.|\-)/g,"\\$1").replace(/\*/g,"[^\\/]+").replace(/\((?!\?\:)/g,"(?:")})`}).join("")+"$","i"),params:r,logs:{}}}(e));let{regexp:r,params:a,logs:n}=d[e];if(n[t])return n[t];let o=t.match(r);return n[t]=[!!o,o?o.slice(1).reduce((e,t,r)=>(e[a[r]||r]=t,e),{}):m]}function y(){let r=c(),[,a]=e({pathname:r});return t(()=>function(e){return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)}((function(){let e=c();a(t=>t.pathname!=e?{pathname:e}:t)})),[]),[r,i]}const v=({path:e})=>n("host",{onclick:t=>{let r,{target:a}=t;for(;a;){if(r=a.getAttribute("href"),a.hasAttribute("ignore"))return;a=r?0:a.parentElement}t.preventDefault(),r&&i(g((e||"/")+"/"+(r||"/")))}}),x=({src:e,path:r})=>{let a=o(),l=s("UpdatedARouterCase",{bubbles:!0,composed:!0});return t(()=>{let e,{current:t}=a;return l(t=>e=t),()=>{!t.isConnected&&e()}},[e,r]),n("host",null)},b={src:()=>Promise.resolve(()=>n("slot",{name:"404"}))};x.props={path:{type:String,reflect:!0},src:{type:u},default:{type:Boolean}},v.props={path:{type:String,value:""}},a("a-router-switch",()=>{let r,a,[o]=y(),s=l({}),[u,c]=e(b),[i,h]=p(()=>"string"==typeof u.src?import(u.src):u.src(),u.src,[u.src]),f=()=>{let e=b;for(let t in s.current){let{src:r,default:a}=s.current[t],[n,l]=w(t,o);if((n||a)&&(e={state:n,params:l,path:t,src:r,pathname:o},!a))break}c(t=>t.pathname==e.pathname?t:e)};return t(f,[o]),n("host",{shadowDom:!0,onUpdatedARouterCase:({target:e,detail:t})=>{let{path:n}=e;s.current[n]=e,t(()=>{delete s.current[n],a||(a=!0,queueMicrotask(f))}),r||(r=!0,queueMicrotask(f))}},"loading"==i?n("slot",{name:"loading"},i):"error"==i?n("slot",{name:"error"},i):"done"==i?n(h,u.params):"")}),a("a-router-case",x),a("a-router-proxy",v);const k=e=>()=>new Promise(t=>setTimeout(t,1e3,{default:e})),E=k(e=>n("h3",null,"Home")),j=k(e=>n("h3",null,"Config")),A=k(e=>n("h3",null,JSON.stringify(e)));var S=[{label:"Ejemplo",render:()=>n("a-router-proxy",null,n("p",null,"The import effect is emulated with a delay to show the use of the loading slot"),n("nav",null,n("a",{style:"margin:5px",href:"/"},"home"),n("a",{style:"margin:5px",href:"/user"},"user"),n("a",{style:"margin:5px",href:"/config"},"config")),n("a-router-switch",null,n("a-router-case",{path:"/",src:E}),n("a-router-case",{path:"/user",src:j}),n("a-router-case",{path:"/:any...",src:A}),n("h1",{slot:"loading"},"loading..."),n("h1",{slot:"404"},"404")))}];export default S;
//# sourceMappingURL=a-router.showcase.js.map
