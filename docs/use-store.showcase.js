import{u as e,e as t,c as n,a as o,A as s}from"./chunks/1d8d81c9.js";export{r as render}from"./chunks/1d8d81c9.js";function u(n,o="*"){let[,r]=e(0);return t(()=>n.onUpdate(o,()=>r(e=>e+1)),[n]),n.state}let a=function(e){let t,n=new EventTarget,o="function"==typeof e?e(n):{...e};return n.state=new Proxy(o,{set:(e,o,r)=>(e[o]!=r&&(t||(t={},queueMicrotask(()=>{let e=t;t=!1,n.dispatchEvent(new CustomEvent("update",{detail:e}))})),t&&(t[o]=!0),e[o]=r),!0)}),n.onUpdate=(e,t)=>{let o=({detail:o})=>("*"==e||e in o)&&t(n.state);return n.addEventListener("update",o),()=>n.removeEventListener("update",o)},n.update=e=>Object.assign(n.state,e),n}({count:0});const l=({store:e})=>{let t=u(e);return n("host",null,"Component A ",n("button",{onclick:()=>t.count+=1},"Increment"),n("strong",null," State : ",JSON.stringify(t)))},c=({store:e})=>{let t=u(e);return n("host",null,"Component B ",n("button",{onclick:()=>t.count-=1},"Decrement"),n("strong",null," State : ",JSON.stringify(t)))};l.props=c.props={store:s},o("use-store-1",l),o("use-store-2",c);var d=[{label:"useStore",render(){a.onUpdate(e=>{console.log(e)});return n("div",null,n("p",null,"The components are synchronized to the store given by the parent"),n("use-store-1",{store:a}),n("br",null),n("use-store-2",{store:a}))}}];export default d;
//# sourceMappingURL=use-store.showcase.js.map
