import{T as e,O as t,p as n,x as o,w as r}from"./chunks/61e0f1f4.js";export{d as render}from"./chunks/61e0f1f4.js";function s(n,o="*"){let[,r]=e(0);return t(()=>n.onUpdate(o,()=>r(e=>e+1)),[n]),n.state}let u=function(e){let t,n={},o=new Proxy("function"==typeof e?e(store):{...e},{set:(e,r,s)=>(e[r]!=s&&(t||(t=["*"],queueMicrotask(()=>{t.forEach(e=>n[e]&&n[e].forEach(e=>e(o,t))),t=!1})),t&&t.push(r),e[r]=s),!0)});return{onUpdate:(e,t)=>(n[e]=n[e]||[],n[e].includes(t)||n[e].push(t),()=>n[e].splice(n[e].indexOf(t)>>>0,1)),update:e=>Object.assign(o,e),state:o}}({count:0});const l=({store:e})=>{let t=s(e);return n("host",null,"Component A ",n("button",{onclick:()=>t.count+=1},"Increment"),n("strong",null," State : ",JSON.stringify(t)))},c=({store:e})=>{let t=s(e);return n("host",null,"Component B ",n("button",{onclick:()=>t.count-=1},"Decrement"),n("strong",null," State : ",JSON.stringify(t)))};l.props=c.props={store:r},o("use-store-1",l),o("use-store-2",c);var p=[{label:"useStore",render:()=>(u.onUpdate("*",e=>{console.log(e)}),n("div",null,n("p",null,"The components are synchronized to the store given by the parent"),n("use-store-1",{store:u}),n("br",null),n("use-store-2",{store:u})))}];export default p;
//# sourceMappingURL=use-store.showcase.js.map
